$(function(){function r(r){n.append(Mustache.render(i,r))}var n=$(".orders"),t=$("#name"),e=$("#drink"),i=$("#order-template").html();$.ajax({type:"GET",url:"http://localhost:3000/orders",success:function(n){$.each(n,function(n,t){r(t)})},error:function(){alert("error loading orders")}}),$("#add-order").on("click",function(){var n={name:t.val(),drink:e.val()};$.ajax({type:"POST",url:"http://localhost:3000/orders",data:n,success:function(n){r(n)},error:function(){alert("error saving orders")}})}),$(".orders").on("click",".editOrder",function(){var r=$(this).closest("li");r.find("input.name").val(r.find("input.name").html()),r.find("input.drink").val(r.find("input.drink").html()),r.addClass("edit")}),$(".orders").on("click",".cancelEdit",function(){$(this).closest("li").removeClass("edit")}),$(".orders").on("click",".saveEdit",function(){var r=$(this).closest("li"),n={name:r.find("input.name").val(),drink:r.find("input.drink").val()};$.ajax({type:"PUT",url:"http://localhost:3000/orders/"+r.attr("data-id"),data:n,success:function(t){r.find("span.name").html(n.name),r.find("span.drink").html(n.drink),r.removeClass("edit")},error:function(){alert("error updating orders")}})}),$(".orders").on("click",".remove",function(){var r=$(this).closest("li");$.ajax({type:"DELETE",url:"http://localhost:3000/orders/"+$(this).attr("data-id"),success:function(){r.fadeOut(300,function(){$(this).remove()})},error:function(){alert("error deleting orders")}})})});